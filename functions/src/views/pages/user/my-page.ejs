<!DOCTYPE html>
<html>

<head>
  <%- include('../../partials/common/head'); %>
  <script type="module" src="/javascripts/firebaseAuth.js"></script>
</head>

<body>
  <div class="flex flex-col" style="min-height: 100svh; max-height: 100svh;">
    <%- include('../../partials/common/header'); %>
      <!-- Main Body -->
      <div class="grow overflow-y-scroll flex flex-col">
        <%- include('../../partials/common/page-title', {title: 'ãƒã‚¤ãƒšãƒ¼ã‚¸' }); %>
          <% if (user === undefined) { %>
            <div class="grow flex justify-center items-center">
              <div>
                <p class="text-center">ğŸ¥³ã“ã®æ©Ÿèƒ½ã¯ã€<br />ãƒ­ã‚°ã‚¤ãƒ³ã—ãŸã‚‰ä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€œã€‚</p>
                <p class="text-center">ãƒ­ã‚°ã‚¤ãƒ³ã¾ãŸã¯æ–°è¦ç™»éŒ²ã‚’è¡Œã†ã«ã¯ã€<br />å³ä¸Šã®ãƒ¦ãƒ¼ã‚¶ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„ã€‚</p>
              </div>
            </div>
            <% } else { %>
              <div class="p-1">
                <h2>ã‚ãªãŸã®æƒ…å ±</h2>
                <dl>
                  <dt>ID</dt>
                  <dd>
                    <%- include('../../partials/util/printable-user-id', {id: user.id}) %>
                  </dd>
                </dl>
                <dl>
                  <dt>ã‚¢ã‚¤ã‚³ãƒ³ã¨ãƒ¦ãƒ¼ã‚¶å</dt>
                  <dd>
                    <%- include('../../partials/util/user-icon-name-s', {iconUrl: user.userIconBase64, userName: user.userName}) %>
                  </dd>
                </dl>
                <dl>
                  <dt>è‡ªå·±ç´¹ä»‹</dt>
                  <dd>
                    <%= user.selfIntroduction %>
                  </dd>
                </dl>
                <%- include('../../partials/util/icon-link-button', {label: "ãƒ¦ãƒ¼ã‚¶æƒ…å ±ç·¨é›†", href: "/user/update", googleIconName: "manage_accounts"}); %>
                <%- include('../../partials/util/icon-link-button', {label: "ãƒ¦ãƒ¼ã‚¶ã‚¢ã‚¤ã‚³ãƒ³ã®å¤‰æ›´", googleIconName: "face", href: "/user/update-user-icon"}) %>
                
                <form action="/users/logout" method="post" onsubmit="return confirm('ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã—ã¦ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿ');">
                  <%- include('../../partials/util/icon-button', {label: "ãƒ€ãƒŸãƒ¼ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ", typeSubmit: true, onSubmitCode: "return confirm('ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã—ã¦ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿ');", googleIconName: "logout"}); %>
                </form>

                <%- include('../../partials/util/icon-button', {label: "ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ2", onClickCode: "logout();", googleIconName: "logout"}); %>

                <button class="mt-3 btn text-white w-full h-12" style="background-color:#ff0000; height: 48px;" onclick="return confirm('æœ¬å½“ã«ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’å‰Šé™¤ã—ã¦ã‚‚ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿ');">
                  <span class="material-symbols-outlined align-[-6px]" data-bs-toggle="dropdown" aria-expanded="false">
                    person_remove
                  </span>
                  ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå‰Šé™¤
                </button>
              </div>
              <% } %>
      </div>
      <%- include('../../partials/common/footer', {currentMenu: 5}); %>
        <!-- Toast -->
        <%- include('../../partials/util/toast', {message: "ãƒ­ã‚°ã‚¤ãƒ³ã«æˆåŠŸã—ã¾ã—ãŸ"}); %>
        <script>
          window.onload = (() => {
            let toast = false;
            <% if (/* if toast is defined and true */ locals.toast === true) { %>
              toast = true;
            <% } %>
            if (toast) {
              const toastLiveExample = document.getElementById('liveToast')
              const toastBootstrap = bootstrap.Toast.getOrCreateInstance(toastLiveExample);
              toastBootstrap.show();
            }
          });
        </script>
  </div>
</body>

</html>